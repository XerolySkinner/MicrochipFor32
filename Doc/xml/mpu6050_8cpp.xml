<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.5" xml:lang="zh">
  <compounddef id="mpu6050_8cpp" kind="file" language="C++">
    <compoundname>mpu6050.cpp</compoundname>
    <includes local="yes">bscpp_IIC_STM32.h</includes>
    <includes refid="mpu6050_8h" local="yes">mpu6050.h</includes>
    <incdepgraph>
      <node id="5">
        <label>varint.h</label>
        <link refid="varint_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp</label>
        <link refid="mpu6050_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>mpu6050.h</label>
        <link refid="mpu6050_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>bscpp_IIC_STM32.h</label>
      </node>
      <node id="4">
        <label>main.h</label>
      </node>
      <node id="6">
        <label>stdint.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="mpu6050_8cpp_1ae7d7fd8356f1a04698bf36a2ff087f7b" prot="public" static="no">
        <name>delay_ms</name>
        <param><defname>var</defname></param>
        <initializer>HAL_Delay(var)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="16" column="10" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="16" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bscpp_IIC_STM32</type>
        <definition>bscpp_IIC_STM32 mpu6050IIC</definition>
        <argsstring>(IIC_SCK_GPIO_Port, IIC_SCK_Pin, IIC_SDA_GPIO_Port, IIC_SDA_Pin)</argsstring>
        <name>mpu6050IIC</name>
        <param>
          <type>IIC_SCK_GPIO_Port</type>
        </param>
        <param>
          <type>IIC_SCK_Pin</type>
        </param>
        <param>
          <type>IIC_SDA_GPIO_Port</type>
        </param>
        <param>
          <type>IIC_SDA_Pin</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="17" column="17" declfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" declline="17" declcolumn="17"/>
        <referencedby refid="mpu6050_8cpp_1a17c11d19a2bb21d61610f08cb2cbe2f7" compoundref="mpu6050_8cpp" startline="187" endline="188">MPU_Read_Byte</referencedby>
        <referencedby refid="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" compoundref="mpu6050_8cpp" startline="168" endline="170">MPU_Read_Len</referencedby>
        <referencedby refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" compoundref="mpu6050_8cpp" startline="178" endline="180">MPU_Write_Byte</referencedby>
        <referencedby refid="mpu6050_8cpp_1a59b1c26b234be88e97435a1b3c061330" compoundref="mpu6050_8cpp" startline="156" endline="158">MPU_Write_Len</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1ab1f8c6111d59b60a2edb4ee3e8aa3113" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Init</definition>
        <argsstring>(void)</argsstring>
        <name>MPU_Init</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>初始化MPU6050 </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>0,成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="25" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="25" bodyend="45"/>
        <references refid="mpu6050_8cpp_1ae7d7fd8356f1a04698bf36a2ff087f7b" compoundref="mpu6050_8cpp" startline="16">delay_ms</references>
        <references refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" compoundref="mpu6050_8h" startline="89">MPU_ADDR</references>
        <references refid="mpu6050_8h_1a9668e5ccfcfb0aa64da044a381a56f9c" compoundref="mpu6050_8h" startline="85">MPU_DEVICE_ID_REG</references>
        <references refid="mpu6050_8h_1a6ac27367cd834a85810e99df72b97621" compoundref="mpu6050_8h" startline="29">MPU_FIFO_EN_REG</references>
        <references refid="mpu6050_8h_1afa56d3602a6044562c45cecf6403fb8b" compoundref="mpu6050_8h" startline="51">MPU_INT_EN_REG</references>
        <references refid="mpu6050_8h_1a41676476ba5dbb1b213f8f8e252d17f9" compoundref="mpu6050_8h" startline="50">MPU_INTBP_CFG_REG</references>
        <references refid="mpu6050_8h_1abbe7ea135ee03eb0f1296ecb22be7554" compoundref="mpu6050_8h" startline="80">MPU_PWR_MGMT1_REG</references>
        <references refid="mpu6050_8h_1a3fa9eb0485744e73d0274b198f0ad705" compoundref="mpu6050_8h" startline="81">MPU_PWR_MGMT2_REG</references>
        <references refid="mpu6050_8cpp_1a17c11d19a2bb21d61610f08cb2cbe2f7" compoundref="mpu6050_8cpp" startline="187" endline="188">MPU_Read_Byte</references>
        <references refid="mpu6050_8cpp_1a6c391137bc5880c3b5e15e84c5a3380f" compoundref="mpu6050_8cpp" startline="67" endline="69">MPU_Set_Accel_Fsr</references>
        <references refid="mpu6050_8cpp_1aa27cc30326ce4980b289a0e1c3f76b5e" compoundref="mpu6050_8cpp" startline="55" endline="57">MPU_Set_Gyro_Fsr</references>
        <references refid="mpu6050_8cpp_1a04e58232ce838e94d54aa2b53287cb41" compoundref="mpu6050_8cpp" startline="92" endline="99">MPU_Set_Rate</references>
        <references refid="mpu6050_8h_1a0146ef35d7ff0b037eafb0a5dac53b0f" compoundref="mpu6050_8h" startline="79">MPU_USER_CTRL_REG</references>
        <references refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" compoundref="mpu6050_8cpp" startline="178" endline="180">MPU_Write_Byte</references>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1aa27cc30326ce4980b289a0e1c3f76b5e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Set_Gyro_Fsr</definition>
        <argsstring>(u8 fsr)</argsstring>
        <name>MPU_Set_Gyro_Fsr</name>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>fsr</declname>
        </param>
        <briefdescription>
<para>设置MPU6050陀螺仪传感器满量程范围 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>fsr</parametername>
</parameternamelist>
<parameterdescription>
<para>0,±250dps 1,±500dps 2,±1000dps 3,±2000dps </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="55" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="55" bodyend="57"/>
        <references refid="mpu6050_8h_1ac8ce2e66126327cf30cfba19c4c38db5" compoundref="mpu6050_8h" startline="26">MPU_GYRO_CFG_REG</references>
        <references refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" compoundref="mpu6050_8cpp" startline="178" endline="180">MPU_Write_Byte</references>
        <referencedby refid="mpu6050_8cpp_1ab1f8c6111d59b60a2edb4ee3e8aa3113" compoundref="mpu6050_8cpp" startline="25" endline="45">MPU_Init</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a6c391137bc5880c3b5e15e84c5a3380f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Set_Accel_Fsr</definition>
        <argsstring>(u8 fsr)</argsstring>
        <name>MPU_Set_Accel_Fsr</name>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>fsr</declname>
        </param>
        <briefdescription>
<para>设置MPU6050加速度传感器满量程范围 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>fsr</parametername>
</parameternamelist>
<parameterdescription>
<para>0,±2g 1,±4g 2,±8g 3,±16g </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="67" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="67" bodyend="69"/>
        <references refid="mpu6050_8h_1a7bc1a37b846a3869f13a29e00072bbc7" compoundref="mpu6050_8h" startline="27">MPU_ACCEL_CFG_REG</references>
        <references refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" compoundref="mpu6050_8cpp" startline="178" endline="180">MPU_Write_Byte</references>
        <referencedby refid="mpu6050_8cpp_1ab1f8c6111d59b60a2edb4ee3e8aa3113" compoundref="mpu6050_8cpp" startline="25" endline="45">MPU_Init</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a2fb9973c9f5ea5327649d0eef5e96217" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Set_LPF</definition>
        <argsstring>(u16 lpf)</argsstring>
        <name>MPU_Set_LPF</name>
        <param>
          <type><ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref></type>
          <declname>lpf</declname>
        </param>
        <briefdescription>
<para>设置MPU6050的数字低通滤波器 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>lpf</parametername>
</parameternamelist>
<parameterdescription>
<para>数字低通滤波频率(Hz) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="76" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="76" bodyend="85"/>
        <references refid="mpu6050_8h_1a5034e2fc680fc68faa369a48f6955837" compoundref="mpu6050_8h" startline="25">MPU_CFG_REG</references>
        <references refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" compoundref="mpu6050_8cpp" startline="178" endline="180">MPU_Write_Byte</references>
        <referencedby refid="mpu6050_8cpp_1a04e58232ce838e94d54aa2b53287cb41" compoundref="mpu6050_8cpp" startline="92" endline="99">MPU_Set_Rate</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a04e58232ce838e94d54aa2b53287cb41" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Set_Rate</definition>
        <argsstring>(u16 rate)</argsstring>
        <name>MPU_Set_Rate</name>
        <param>
          <type><ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref></type>
          <declname>rate</declname>
        </param>
        <briefdescription>
<para>设置MPU6050的采样率(假定Fs=1KHz) </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>rate</parametername>
</parameternamelist>
<parameterdescription>
<para>4~1000(Hz) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="92" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="92" bodyend="99"/>
        <references refid="mpu6050_8h_1a4b95cfafadb4b30146a17fac36819ca3" compoundref="mpu6050_8h" startline="24">MPU_SAMPLE_RATE_REG</references>
        <references refid="mpu6050_8cpp_1a2fb9973c9f5ea5327649d0eef5e96217" compoundref="mpu6050_8cpp" startline="76" endline="85">MPU_Set_LPF</references>
        <references refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" compoundref="mpu6050_8cpp" startline="178" endline="180">MPU_Write_Byte</references>
        <referencedby refid="mpu6050_8cpp_1ab1f8c6111d59b60a2edb4ee3e8aa3113" compoundref="mpu6050_8cpp" startline="25" endline="45">MPU_Init</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a41eaf87c26b1281d9d5fc6a06abcf2a8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>short</type>
        <definition>short MPU_Get_Temperature</definition>
        <argsstring>(void)</argsstring>
        <name>MPU_Get_Temperature</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>得到温度值 </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>温度值(扩大了100倍) </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="105" column="7" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="105" bodyend="112"/>
        <references refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" compoundref="mpu6050_8h" startline="89">MPU_ADDR</references>
        <references refid="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" compoundref="mpu6050_8cpp" startline="168" endline="170">MPU_Read_Len</references>
        <references refid="mpu6050_8h_1af2665b26b7f1ce9b3982a9f6418748e9" compoundref="mpu6050_8h" startline="61">MPU_TEMP_OUTH_REG</references>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a8f28105f9dcccc709b78d7d0ce497633" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Get_Gyroscope</definition>
        <argsstring>(short *gx, short *gy, short *gz)</argsstring>
        <name>MPU_Get_Gyroscope</name>
        <param>
          <type>short *</type>
          <declname>gx</declname>
        </param>
        <param>
          <type>short *</type>
          <declname>gy</declname>
        </param>
        <param>
          <type>short *</type>
          <declname>gz</declname>
        </param>
        <briefdescription>
<para>得到陀螺仪值(原始值) </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>gx</parametername>
</parameternamelist>
<parameterdescription>
<para>陀螺仪x轴的原始读数(带符号) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gy</parametername>
</parameternamelist>
<parameterdescription>
<para>陀螺仪y轴的原始读数(带符号) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gx</parametername>
</parameternamelist>
<parameterdescription>
<para>陀螺仪z轴的原始读数(带符号) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="121" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="121" bodyend="128"/>
        <references refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" compoundref="mpu6050_8h" startline="89">MPU_ADDR</references>
        <references refid="mpu6050_8h_1a7e16f1a459d902b070ca67df67be862b" compoundref="mpu6050_8h" startline="64">MPU_GYRO_XOUTH_REG</references>
        <references refid="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" compoundref="mpu6050_8cpp" startline="168" endline="170">MPU_Read_Len</references>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a2a0a02f6d7c597828a0cc282c76e99e3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Get_Accelerometer</definition>
        <argsstring>(short *ax, short *ay, short *az)</argsstring>
        <name>MPU_Get_Accelerometer</name>
        <param>
          <type>short *</type>
          <declname>ax</declname>
        </param>
        <param>
          <type>short *</type>
          <declname>ay</declname>
        </param>
        <param>
          <type>short *</type>
          <declname>az</declname>
        </param>
        <briefdescription>
<para>得到加速度值(原始值) </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ax</parametername>
</parameternamelist>
<parameterdescription>
<para>陀螺仪a轴的原始读数(带符号) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ay</parametername>
</parameternamelist>
<parameterdescription>
<para>陀螺仪a轴的原始读数(带符号) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ax</parametername>
</parameternamelist>
<parameterdescription>
<para>陀螺仪a轴的原始读数(带符号) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="137" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="137" bodyend="144"/>
        <references refid="mpu6050_8h_1a571a31cdf2a467b2b1df39fea686ea0d" compoundref="mpu6050_8h" startline="54">MPU_ACCEL_XOUTH_REG</references>
        <references refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" compoundref="mpu6050_8h" startline="89">MPU_ADDR</references>
        <references refid="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" compoundref="mpu6050_8cpp" startline="168" endline="170">MPU_Read_Len</references>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a59b1c26b234be88e97435a1b3c061330" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Write_Len</definition>
        <argsstring>(u8 addr, u8 reg, u8 len, u8 *buf)</argsstring>
        <name>MPU_Write_Len</name>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>addr</declname>
        </param>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>reg</declname>
        </param>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>len</declname>
        </param>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref> *</type>
          <declname>buf</declname>
        </param>
        <briefdescription>
<para>IIC连续写 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>addr</parametername>
</parameternamelist>
<parameterdescription>
<para>器件地址 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>reg</parametername>
</parameternamelist>
<parameterdescription>
<para>寄存器地址 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>len</parametername>
</parameternamelist>
<parameterdescription>
<para>写入长度 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>*buf</parametername>
</parameternamelist>
<parameterdescription>
<para>数据区 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="156" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="156" bodyend="158"/>
        <references refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583">mpu6050IIC</references>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Read_Len</definition>
        <argsstring>(u8 addr, u8 reg, u8 len, u8 *buf)</argsstring>
        <name>MPU_Read_Len</name>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>addr</declname>
        </param>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>reg</declname>
        </param>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>len</declname>
        </param>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref> *</type>
          <declname>buf</declname>
        </param>
        <briefdescription>
<para>IIC连续读 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>addr</parametername>
</parameternamelist>
<parameterdescription>
<para>器件地址 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>reg</parametername>
</parameternamelist>
<parameterdescription>
<para>寄存器地址 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>len</parametername>
</parameternamelist>
<parameterdescription>
<para>读取长度 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>*buf</parametername>
</parameternamelist>
<parameterdescription>
<para>读取数据区 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="168" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="168" bodyend="170"/>
        <references refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583">mpu6050IIC</references>
        <referencedby refid="mpu6050_8cpp_1a2a0a02f6d7c597828a0cc282c76e99e3" compoundref="mpu6050_8cpp" startline="137" endline="144">MPU_Get_Accelerometer</referencedby>
        <referencedby refid="mpu6050_8cpp_1a8f28105f9dcccc709b78d7d0ce497633" compoundref="mpu6050_8cpp" startline="121" endline="128">MPU_Get_Gyroscope</referencedby>
        <referencedby refid="mpu6050_8cpp_1a41eaf87c26b1281d9d5fc6a06abcf2a8" compoundref="mpu6050_8cpp" startline="105" endline="112">MPU_Get_Temperature</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Write_Byte</definition>
        <argsstring>(u8 reg, u8 data)</argsstring>
        <name>MPU_Write_Byte</name>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>reg</declname>
        </param>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>data</declname>
        </param>
        <briefdescription>
<para>IIC写一个字节 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>reg</parametername>
</parameternamelist>
<parameterdescription>
<para>寄存器地址 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>data</parametername>
</parameternamelist>
<parameterdescription>
<para>数据 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="178" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="178" bodyend="180"/>
        <references refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583">mpu6050IIC</references>
        <references refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" compoundref="mpu6050_8h" startline="89">MPU_ADDR</references>
        <referencedby refid="mpu6050_8cpp_1ab1f8c6111d59b60a2edb4ee3e8aa3113" compoundref="mpu6050_8cpp" startline="25" endline="45">MPU_Init</referencedby>
        <referencedby refid="mpu6050_8cpp_1a6c391137bc5880c3b5e15e84c5a3380f" compoundref="mpu6050_8cpp" startline="67" endline="69">MPU_Set_Accel_Fsr</referencedby>
        <referencedby refid="mpu6050_8cpp_1aa27cc30326ce4980b289a0e1c3f76b5e" compoundref="mpu6050_8cpp" startline="55" endline="57">MPU_Set_Gyro_Fsr</referencedby>
        <referencedby refid="mpu6050_8cpp_1a2fb9973c9f5ea5327649d0eef5e96217" compoundref="mpu6050_8cpp" startline="76" endline="85">MPU_Set_LPF</referencedby>
        <referencedby refid="mpu6050_8cpp_1a04e58232ce838e94d54aa2b53287cb41" compoundref="mpu6050_8cpp" startline="92" endline="99">MPU_Set_Rate</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpu6050_8cpp_1a17c11d19a2bb21d61610f08cb2cbe2f7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
        <definition>u8 MPU_Read_Byte</definition>
        <argsstring>(u8 reg)</argsstring>
        <name>MPU_Read_Byte</name>
        <param>
          <type><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref></type>
          <declname>reg</declname>
        </param>
        <briefdescription>
<para>IIC读一个字节 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>reg</parametername>
</parameternamelist>
<parameterdescription>
<para>寄存器地址 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0,设置成功 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" line="187" column="4" bodyfile="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp" bodystart="187" bodyend="188"/>
        <references refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583">mpu6050IIC</references>
        <references refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" compoundref="mpu6050_8h" startline="89">MPU_ADDR</references>
        <referencedby refid="mpu6050_8cpp_1ab1f8c6111d59b60a2edb4ee3e8aa3113" compoundref="mpu6050_8cpp" startline="25" endline="45">MPU_Init</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="12"><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>头文件</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;bscpp_IIC_STM32.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mpu6050_8h" kindref="compound">mpu6050.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16" refid="mpu6050_8cpp_1ae7d7fd8356f1a04698bf36a2ff087f7b" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>delay_ms(var)<sp/>HAL_Delay(var)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17" refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583" refkind="member"><highlight class="normal">bscpp_IIC_STM32<sp/><ref refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583" kindref="member">mpu6050IIC</ref>(IIC_SCK_GPIO_Port,IIC_SCK_Pin,IIC_SDA_GPIO_Port,IIC_SDA_Pin);</highlight></codeline>
<codeline lineno="19"><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>函数区</highlight></codeline>
<codeline lineno="25" refid="mpu6050_8cpp_1ab1f8c6111d59b60a2edb4ee3e8aa3113" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1ab1f8c6111d59b60a2edb4ee3e8aa3113" kindref="member">MPU_Init</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>res;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//MPU_IIC_Init();//初始化IIC总线</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1abbe7ea135ee03eb0f1296ecb22be7554" kindref="member">MPU_PWR_MGMT1_REG</ref>,0X80);<sp/></highlight><highlight class="comment">//复位MPU6050</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1ae7d7fd8356f1a04698bf36a2ff087f7b" kindref="member">delay_ms</ref>(100);</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1abbe7ea135ee03eb0f1296ecb22be7554" kindref="member">MPU_PWR_MGMT1_REG</ref>,0X00);<sp/></highlight><highlight class="comment">//唤醒MPU6050<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1aa27cc30326ce4980b289a0e1c3f76b5e" kindref="member">MPU_Set_Gyro_Fsr</ref>(3);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//陀螺仪传感器,±2000dps</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a6c391137bc5880c3b5e15e84c5a3380f" kindref="member">MPU_Set_Accel_Fsr</ref>(0);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//加速度传感器,±2g</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a04e58232ce838e94d54aa2b53287cb41" kindref="member">MPU_Set_Rate</ref>(50);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//设置采样率50Hz</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1afa56d3602a6044562c45cecf6403fb8b" kindref="member">MPU_INT_EN_REG</ref>,0X00);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//关闭所有中断</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1a0146ef35d7ff0b037eafb0a5dac53b0f" kindref="member">MPU_USER_CTRL_REG</ref>,0X00);<sp/></highlight><highlight class="comment">//I2C主模式关闭</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1a6ac27367cd834a85810e99df72b97621" kindref="member">MPU_FIFO_EN_REG</ref>,0X00);<sp/><sp/><sp/></highlight><highlight class="comment">//关闭FIFO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1a41676476ba5dbb1b213f8f8e252d17f9" kindref="member">MPU_INTBP_CFG_REG</ref>,0X80);<sp/></highlight><highlight class="comment">//INT引脚低电平有效</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>res=<ref refid="mpu6050_8cpp_1a17c11d19a2bb21d61610f08cb2cbe2f7" kindref="member">MPU_Read_Byte</ref>(<ref refid="mpu6050_8h_1a9668e5ccfcfb0aa64da044a381a56f9c" kindref="member">MPU_DEVICE_ID_REG</ref>);</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(res==<ref refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" kindref="member">MPU_ADDR</ref>)</highlight><highlight class="comment">//器件ID正确</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1abbe7ea135ee03eb0f1296ecb22be7554" kindref="member">MPU_PWR_MGMT1_REG</ref>,0X01);<sp/></highlight><highlight class="comment">//设置CLKSEL,PLL<sp/>X轴为参考</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1a3fa9eb0485744e73d0274b198f0ad705" kindref="member">MPU_PWR_MGMT2_REG</ref>,0X00);<sp/></highlight><highlight class="comment">//加速度与陀螺仪都工作</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a04e58232ce838e94d54aa2b53287cb41" kindref="member">MPU_Set_Rate</ref>(50);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//设置采样率为50Hz</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;}</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="55" refid="mpu6050_8cpp_1aa27cc30326ce4980b289a0e1c3f76b5e" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1aa27cc30326ce4980b289a0e1c3f76b5e" kindref="member">MPU_Set_Gyro_Fsr</ref>(<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>fsr){</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1ac8ce2e66126327cf30cfba19c4c38db5" kindref="member">MPU_GYRO_CFG_REG</ref>,fsr&lt;&lt;3);</highlight><highlight class="comment">//设置陀螺仪满量程范围<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="67" refid="mpu6050_8cpp_1a6c391137bc5880c3b5e15e84c5a3380f" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1a6c391137bc5880c3b5e15e84c5a3380f" kindref="member">MPU_Set_Accel_Fsr</ref>(<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>fsr){</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1a7bc1a37b846a3869f13a29e00072bbc7" kindref="member">MPU_ACCEL_CFG_REG</ref>,fsr&lt;&lt;3);</highlight><highlight class="comment">//设置加速度传感器满量程范围<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="76" refid="mpu6050_8cpp_1a2fb9973c9f5ea5327649d0eef5e96217" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1a2fb9973c9f5ea5327649d0eef5e96217" kindref="member">MPU_Set_LPF</ref>(<ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref><sp/>lpf){</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>data=0;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(lpf&gt;=188)data=1;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(lpf&gt;=98)data=2;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(lpf&gt;=42)data=3;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(lpf&gt;=20)data=4;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(lpf&gt;=10)data=5;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>data=6;<sp/></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1a5034e2fc680fc68faa369a48f6955837" kindref="member">MPU_CFG_REG</ref>,data);</highlight><highlight class="comment">//设置数字低通滤波器<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="92" refid="mpu6050_8cpp_1a04e58232ce838e94d54aa2b53287cb41" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1a04e58232ce838e94d54aa2b53287cb41" kindref="member">MPU_Set_Rate</ref>(<ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref><sp/>rate){</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>data;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rate&gt;1000)rate=1000;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rate&lt;4)rate=4;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>data=1000/rate-1;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>data=<ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="mpu6050_8h_1a4b95cfafadb4b30146a17fac36819ca3" kindref="member">MPU_SAMPLE_RATE_REG</ref>,data);<sp/><sp/></highlight><highlight class="comment">//设置数字低通滤波器</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="mpu6050_8cpp_1a2fb9973c9f5ea5327649d0eef5e96217" kindref="member">MPU_Set_LPF</ref>(rate/2);<sp/></highlight><highlight class="comment">//自动设置LPF为采样率的一半</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="105" refid="mpu6050_8cpp_1a41eaf87c26b1281d9d5fc6a06abcf2a8" refkind="member"><highlight class="comment"></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="mpu6050_8cpp_1a41eaf87c26b1281d9d5fc6a06abcf2a8" kindref="member">MPU_Get_Temperature</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>buf[2];<sp/></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>raw;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>temp;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" kindref="member">MPU_Read_Len</ref>(<ref refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" kindref="member">MPU_ADDR</ref>,<ref refid="mpu6050_8h_1af2665b26b7f1ce9b3982a9f6418748e9" kindref="member">MPU_TEMP_OUTH_REG</ref>,2,buf);<sp/></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>raw=((<ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref>)buf[0]&lt;&lt;8)|buf[1];<sp/><sp/></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>temp=36.53+((double)raw)/340;<sp/><sp/></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>temp*100;}</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="121" refid="mpu6050_8cpp_1a8f28105f9dcccc709b78d7d0ce497633" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1a8f28105f9dcccc709b78d7d0ce497633" kindref="member">MPU_Get_Gyroscope</ref>(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>*gx,</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>*gy,</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>*gz){</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>buf[6],res;<sp/><sp/></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>res=<ref refid="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" kindref="member">MPU_Read_Len</ref>(<ref refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" kindref="member">MPU_ADDR</ref>,<ref refid="mpu6050_8h_1a7e16f1a459d902b070ca67df67be862b" kindref="member">MPU_GYRO_XOUTH_REG</ref>,6,buf);</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(res==0){</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*gx=((<ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref>)buf[0]&lt;&lt;8)|buf[1];<sp/><sp/></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*gy=((<ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref>)buf[2]&lt;&lt;8)|buf[3];<sp/><sp/></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*gz=((<ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref>)buf[4]&lt;&lt;8)|buf[5];}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;}</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="137" refid="mpu6050_8cpp_1a2a0a02f6d7c597828a0cc282c76e99e3" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1a2a0a02f6d7c597828a0cc282c76e99e3" kindref="member">MPU_Get_Accelerometer</ref>(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>*ax,</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>*ay,</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>*az){</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>buf[6],res;<sp/><sp/></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>res=<ref refid="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" kindref="member">MPU_Read_Len</ref>(<ref refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" kindref="member">MPU_ADDR</ref>,<ref refid="mpu6050_8h_1a571a31cdf2a467b2b1df39fea686ea0d" kindref="member">MPU_ACCEL_XOUTH_REG</ref>,6,buf);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(res==0){</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ax=((<ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref>)buf[0]&lt;&lt;8)|buf[1];<sp/><sp/></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*ay=((<ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref>)buf[2]&lt;&lt;8)|buf[3];<sp/><sp/></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*az=((<ref refid="varint_8h_1ace9d960e74685e2cd84b36132dbbf8aa" kindref="member">u16</ref>)buf[4]&lt;&lt;8)|buf[5];}</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;}</highlight></codeline>
<codeline lineno="146"><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>适配区</highlight></codeline>
<codeline lineno="156" refid="mpu6050_8cpp_1a59b1c26b234be88e97435a1b3c061330" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1a59b1c26b234be88e97435a1b3c061330" kindref="member">MPU_Write_Len</ref>(<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>addr,<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>reg,<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>len,<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>*buf){</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583" kindref="member">mpu6050IIC</ref>.IIC_Write(addr,reg,(<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref>*)buf,len);</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="168" refid="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1a63161fa966899e4e7c5791e40ebf2b0a" kindref="member">MPU_Read_Len</ref>(<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>addr,<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>reg,<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>len,<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>*buf){</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583" kindref="member">mpu6050IIC</ref>.IIC_Read(addr,reg,(<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref>*)buf,len);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="178" refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1a0be9b422bb8613f8444db4af5234e1a1" kindref="member">MPU_Write_Byte</ref>(<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>reg,<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>data){</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583" kindref="member">mpu6050IIC</ref>.IIC_WriteOneByte(<ref refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" kindref="member">MPU_ADDR</ref>,reg,data);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="comment">//----------------------------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="187" refid="mpu6050_8cpp_1a17c11d19a2bb21d61610f08cb2cbe2f7" refkind="member"><highlight class="comment"></highlight><highlight class="normal"><ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/><ref refid="mpu6050_8cpp_1a17c11d19a2bb21d61610f08cb2cbe2f7" kindref="member">MPU_Read_Byte</ref>(<ref refid="varint_8h_1a92c50087ca0e64fa93fc59402c55f8ca" kindref="member">u8</ref><sp/>reg){</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="mpu6050_8cpp_1a0e5583807e7dcaae30835311a2195583" kindref="member">mpu6050IIC</ref>.IIC_ReadOneByte(<ref refid="mpu6050_8h_1ac3281ee64415e63422da7d65db161891" kindref="member">MPU_ADDR</ref>,reg);}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="D:/gitt/MicrochipFor32/bsp_MPU6050/mpu6050.cpp"/>
  </compounddef>
</doxygen>
